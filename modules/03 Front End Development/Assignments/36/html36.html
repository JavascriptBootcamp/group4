<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tic-Tac-Toe game</title>
    <style>
        .tds {
            height: 80px;
            width: 80px;
        }
    </style>
</head>

<body>

    <label for="player1">player X </label>
    <input type="text" id="player1" placeholder="Enter player 1 name">
    <label for="player2">player O </label>
    <input type="text" id="player2" placeholder="Enter player 2 name">
    <button id="newGame" onclick="newGame()">Start</button>
    <table>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    Player: <div id="playerName"> </div>
    Status : <div id="gameStatus"></div>
    <script>
        function newGame() {
            document.getElementById("playerName").innerHTML = "";
            document.getElementById("gameStatus").innerHTML = "";
            document.getElementById("newGame").disabled = true;
            player1 = document.getElementById("player1").value;
            player2 = document.getElementById("player2").value;
            playerTurn = "X";
            count = 0;
            var tds = document.getElementsByTagName("td");
            for (var i = 0; i < tds.length; i++) {
                tds[i].innerHTML = '<input type="button" class ="tds" onclick="checkXorO(event)">';
            }
            btnsArray = document.getElementsByClassName("tds");
        }
        function checkXorO(event) {
            playerName = document.getElementById("playerName");
            gameStatus = document.getElementById("gameStatus");
            count++;
            flag = false;
            if (playerTurn === "X") {
                playerName.innerHTML = player1;
                event.target.value = "X";
                if (checkIfWin(playerTurn)) {
                    flag = true;
                    gameStatus.innerHTML = "GAME OVER<br>" + player1 + " is the winner!";
                    for (var i = 0; i < btnsArray.length; i++)
                        btnsArray[i].disabled = true;
                    document.getElementById("newGame").disabled = false;
                }
            } else if (playerTurn === "O") {
                playerName.innerHTML = player2;
                event.target.value = "O";
                if (checkIfWin(playerTurn)) {
                    flag = true;
                    gameStatus.innerHTML = "GAME OVER<br>" + player2 + " is the winner!";
                    for (var i = 0; i < btnsArray.length; i++)
                        btnsArray[i].disabled = true;
                    document.getElementById("newGame").disabled = false;
                }
            }
            if (playerTurn === "X") {
                playerTurn = "O";
            } else {
                playerTurn = "X";
            }

            if (flag === false && count === btnsArray.length) {

                gameStatus.innerText = "A Tie";
                document.getElementById("newGame").disabled = false;
            }
            event.target.disabled = true;
        }
        function checkIfWin(pt) {

            if ((btnsArray[0].value === pt) && (btnsArray[1].value === pt) && (btnsArray[2].value === pt)) {
                return true;
            }
            if ((btnsArray[3].value === pt) && (btnsArray[4].value === pt) && (btnsArray[5].value === pt)) {
                return true;
            }
            if ((btnsArray[6].value === pt) && (btnsArray[7].value === pt) && (btnsArray[8].value === pt)) {
                return true;
            }
            if ((btnsArray[0].value === pt) && (btnsArray[3].value === pt) && (btnsArray[6].value === pt)) {
                return true;
            }
            if ((btnsArray[0].value === pt) && (btnsArray[4].value === pt) && (btnsArray[8].value === pt)) {
                return true;
            }
            if ((btnsArray[2].value === pt) && (btnsArray[4].value === pt) && (btnsArray[6].value === pt)) {
                return true;
            }
            if ((btnsArray[1].value === pt) && (btnsArray[4].value === pt) && (btnsArray[7].value === pt)) {
                return true;
            }
            if ((btnsArray[2].value === pt) && (btnsArray[5].value === pt) && (btnsArray[8].value === pt)) {
                return true;
            }
            return false;
        }
    </script>
</body>

</html>
