<html>

<head>
    <title>
        "Books | Favorites"
    </title>
</head>

<body>
    <form onsubmit="return false;">
        <input type="text" id="title" placeholder="title">
        <input type="text" id="author" placeholder="author">
        <input type="date" id="publication">
        <input type="text" id="publisher" placeholder="publisher">
        <input type="number" id="pages" placeholder="pages">
        <input type="text" id="comments" placeholder="comments">
        <input type="submit" onclick="addBook()">
    </form>
    <select id="order" onchange="orderBooks()">
        <option disabled selected hidden>select order</option>
        <option value="1">oldest to newest</option>
        <option value="2">newest to oldest</option>
    </select>
    <div id="books">
        <h1>My Top 5 Books:</h1>
        <div>
            <h1>Title: "IT"</h1>
            <h2>Author: Stephen King</h2>
            <h3>Publication date:<span class="PublicationDate">2019-01-23</span></h3>
            <h4>Publisher: Viking</h4>
            <h5>Pages: 138</h5>
            <p>comments: perfect author, perfect book.</p>
        </div>
        <div>
            <h1>Title: The Dark Tower: The Gunslinger</h1>
            <h2>Author: Stephen King</h2>
            <h3>Publication date:<span class="PublicationDate">2019-01-05</span></h3>
            <h4>Publisher: Grant</h4>
            <h5>Pages: 300</h5>
            <p>comments: perfect author, perfect series.</p>

        </div>
        <div>
            <h1>Title: The Dark Tower Book II: The Drawing of the Three</h1>
            <h2>Author: Stephen King</h2>
            <h3>Publication date:<span class="PublicationDate">2018-05-23</span></h3>
            <h4>Publisher: Grant</h4>
            <h5>Pages: 463</h5>
            <p>comments: perfect author, perfect series.</p>

        </div>
        <div>
            <h1>Title: The Dark Tower III: The Waste Lands</h1>
            <h2>Author: Stephen King</h2>
            <h3>Publication date:<span class="PublicationDate">2014-06-23</span></h3>
            <h4>Publisher: Grant</h4>
            <h5>Pages: 512</h5>
            <p>comments: perfect author, perfect series.</p>

        </div>
        <div>
            <h1>Title: The Dark Tower IV: Wizard and Glass</h1>
            <h2>Author: Stephen King</h2>
            <h3>Publication date:<span class="PublicationDate">2016-09-27</span></h3>
            <h4>Publisher: Grant</h4>
            <h5>Pages: 787</h5>
            <p>comments: perfect author, perfect series.</p>
        </div>
    </div>

    <script>
        var books = [];
        function Book(title, author, publication, publisher, pages, comments) {
            this.title = title;
            this.author = author;
            this.publication = publication;
            this.publisher = publisher;
            this.pages = pages;
            this.comments = comments;
        }
        function addBook() {
            var title = document.getElementById("title");
            var author = document.getElementById("author");
            var publication = document.getElementById("publication");
            var publisher = document.getElementById("publisher");
            var pages = document.getElementById("pages");
            var comments = document.getElementById("comments");
            var book;
            if (title.value !== "" && author.value !== "" && publication.value !== "" && publisher.value !== "" && pages.value !== "" && comments.value !== "") {
                book = new Book(title.value, author.value, publication.value, publisher.value, pages.value, comments.value);
                books.push(book);
                displayBook(book);
                clearInputContent(title, author, publication, publisher, pages, comments);
            }

        }
        function orderBooks() {
            var order = document.getElementById("order");
            var select = order.options.selectedIndex;
            var booksContainer = document.getElementById("books");
            var allbooks = document.getElementsByClassName("PublicationDate");
            var orderBooks;
            orderBooks = sortBooks(select, allbooks);
            for (var i = 0; i < orderBooks.length; i++) {
                booksContainer.appendChild(orderBooks[i].parentNode.parentNode);
            }
        }
        function sortBooks(select, allbooks) {
            var arr = [];
            for (var i = 0; i < allbooks.length; i++) {
                arr.push(allbooks[i]);
            }
            if (select === 1) {
                arr.sort(function (a, b) {
                    keyA = a.innerText;
                    keyB = b.innerText;      
                    if (keyA < keyB) return -1;
                    if (keyA > keyB) return 1;
                    return 0;
                });
            }
            else {
                arr.sort(function (a, b) {
                    keyA = a.innerText;
                    keyB = b.innerText;      
                    if (keyA < keyB) return 1;
                    if (keyA > keyB) return -1;
                    return 0;
                });
            }
            return arr;
        }
        function displayBook(book) {
            var books = document.getElementById("books");
            var h1 = document.createElement("h1");
            var h2 = document.createElement("h2");
            var h3 = document.createElement("h3");
            var h4 = document.createElement("h4");
            var h5 = document.createElement("h5");
            var p = document.createElement("p");
            var div = document.createElement("div");
            h1.innerText = "Title: " + book.title;
            h2.innerText = "Author: " + book.author;
            h3.innerHTML = "Publication date: " + "<span class='PublicationDate'>" + book.publication + "</span>";
            h4.innerText = "Publisher: " + book.publisher;
            h5.innerText = "Pages: " + book.pages;
            p.innerText = "comments: " + book.comments;
            div.appendChild(h1);
            div.appendChild(h2);
            div.appendChild(h3);
            div.appendChild(h4);
            div.appendChild(h5);
            div.appendChild(p);
            books.appendChild(div);
        }
        function clearInputContent(title, author, publication, publisher, pages, comments) {
            title.value = "";
            author.value = "";
            publication.value = "";
            publisher.value = "";
            pages.value = "";
            comments.value = "";
        }
    </script>
</body>

</html>