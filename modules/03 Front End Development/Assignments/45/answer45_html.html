<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Bulk Of Images</title>
    <style>
        img {
            max-width: 30%;
            height: auto;
            padding: 5px;
        }

        input {
            margin: 5px;
        }

        .pagesBtn {
            margin: 10px;
        }
    </style>
</head>

<body>

    <h2>Add Images</h2>
    <label for="imgSrc">Enter Image Source :</label>
    <input type="text" id="imgSrc" required><br />
    <label for="wikiSrc">Enter wikipedia link</label>
    <input type="text" id="wikiSrc"><br />
    <button id="addImage" onclick="addImage()">Add Image</button><br />
    <div class="page"> </div> <br />

    <div class="image-bulk " id="imageColection">
        <a href="https://he.wikipedia.org/wiki/%D7%99%D7%9D_%D7%94%D7%9E%D7%9C%D7%97">
            <img src="https://cdn.pixabay.com/photo/2016/12/25/19/41/dead-sea-1930735_960_720.jpg" alt="dead sea">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%9B%D7%99%D7%A4%D7%AA_%D7%94%D7%A1%D7%9C%D7%A2">
            <img src="https://cdn.pixabay.com/photo/2016/10/03/21/13/jerusalem-1712855_960_720.jpg" alt="כיפת הסלע">
        </a>
        <a
            href="https://he.wikipedia.org/wiki/%D7%AA%D7%97%D7%A0%D7%AA_%D7%94%D7%A8%D7%9B%D7%91%D7%AA_%D7%AA%D7%9C_%D7%90%D7%91%D7%99%D7%91_%E2%80%93_%D7%94%D7%A9%D7%9C%D7%95%D7%9D">
            <img src="https://cdn.pixabay.com/photo/2017/04/23/08/41/tel-aviv-2253289_960_720.jpg" alt="רכבת השלום">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%A9%D7%A7%D7%9C_%D7%97%D7%93%D7%A9">
            <img src="https://cdn.pixabay.com/photo/2016/06/30/22/15/shekel-1490026_960_720.jpg" alt="שקל חדש">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%9E%D7%99%D7%A0%D7%99_%D7%99%D7%A9%D7%A8%D7%90%D7%9C">
            <img src="https://cdn.pixabay.com/photo/2018/04/03/16/06/tourism-3287159_960_720.jpg" alt="מיני ישראל">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%90%D7%99%D7%9C%D7%AA">
            <img src="https://cdn.pixabay.com/photo/2012/12/24/08/39/eilat-72226_960_720.jpg" alt="מיני ישראל">
        </a>
        <a
            href="https://he.wikipedia.org/wiki/%D7%A8%D7%A6%D7%95%D7%A2%D7%AA_%D7%97%D7%95%D7%A3_%D7%AA%D7%9C_%D7%90%D7%91%D7%99%D7%91-%D7%99%D7%A4%D7%95">
            <img src="https://cdn.pixabay.com/photo/2017/04/23/08/54/beach-2253325__340.jpg" alt="חוף תל אביב">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%99%D7%9D_%D7%94%D7%9E%D7%9C%D7%97">
            <img src="https://cdn.pixabay.com/photo/2017/02/21/01/46/dead-sea-2084451_960_720.jpg" alt="ים המלח">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%AA%D7%9C_%D7%90%D7%91%D7%99%D7%91-%D7%99%D7%A4%D7%95">
            <img src="https://cdn.pixabay.com/photo/2017/10/07/16/38/tel-aviv-2827030_960_720.jpg" alt="תל אביב">
        </a>
        <a href="https://he.wikipedia.org/wiki/%D7%90%D7%9C_%D7%A2%D7%9C">
            <img src="https://cdn.pixabay.com/photo/2016/09/18/22/43/aircraft-1679200_960_720.jpg" alt="אל על">
        </a>
    </div>

    <script>


        var displaied = false;
        var imagePerPage = 12;
        var page   = document.querySelector(".page");
        var images = document.querySelectorAll("a");
        var imageColection = document.querySelector("#imageColection");
        var pages = Math.ceil(images.length / imagePerPage);
        var totalImg = images.length;


        var imgSrc;
        var wikiSrc;
        var allImg = new Array();

        for (let i = 0; i < images.length; i++) {
            imgSrc = images[i].children[0].src;
            wikiSrc = images[i].href;
            allImg[i] = { imgSrc, wikiSrc }
        }



        function addImage() {

            var imgSrc = document.querySelector("#imgSrc").value;
            var wikiSrc = document.querySelector("#wikiSrc").value;

            if (displaied) {
                imageColection.innerHTML = "";
                for (var i = (pages - 1) * imagePerPage; i < allImg.length; i++) {
                    imageColection.innerHTML += `<a href="${allImg[i].wikiSrc}"><img src="${allImg[i].imgSrc}" ></a>`
                    displaied = false;

                }
            }

            else {
                if (!(totalImg % imagePerPage)) {

                    imageColection.innerHTML = "";
                    page.innerHTML += `<button class="pagesBtn" onclick = "displayPage(event)"> ${pages}</button>`
                    imageColection.innerHTML += ` <a href="${wikiSrc}"><img src="${imgSrc}" ></a>`

                    images = document.querySelectorAll("a");

                    imgSrc = images[images.length - 1].children[0].src;
                    wikiSrc = images[images.length - 1].href;
                    allImg.push({ imgSrc, wikiSrc });

                    pages++;
                    totalImg++;

                }

                else {
                    imageColection.innerHTML += `<a href="${wikiSrc}"><img src="${imgSrc}" ></a>`
                    images = document.querySelectorAll("a");
                    imgSrc = images[images.length - 1].children[0].src;
                    wikiSrc = images[images.length - 1].href;
                    allImg.push({ imgSrc, wikiSrc });
                    totalImg++;
                }
            }

        }

        function displayPage(e) {

            var start = Number(e.currentTarget.innerHTML);
            imageColection.innerHTML = "";
            console.log(allImg);
            for (var i = (start - 1) * (imagePerPage); i < imagePerPage * start; i++) {
                imageColection.innerHTML += `<a href="${allImg[i].wikiSrc}"><img src="${allImg[i].imgSrc}" ></a>`
            }

            displaied = true;

        }
       


    </script>
</body>

</html>
