<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <form>
        <h1>Pictures Of Placed I Visted</h1>
        <input type="text" id="imageName" placeholder="insert place name">
        <input type="url" id="imageUrl" placeholder="insert image url">
        <input type="url" id="wikiUrl" placeholder="insert wikipedia url">
        <button onclick="insertImage(event)">Insert</button>
    </form>
    <div id="containPage">
    </div>
    <div id="pagesNavigatorContainer">
        <table>
            <tr>
                <th>current page</th>
            </tr>
            <tr id="pagesNavigator">
            </tr>
        </table>
    </div>
    <script>
        var amountOfImages=0;
        var amountOfPages=0;
        var currentPage=0
        var pagesArray=[];
        function insertImage(e){
            e.preventDefault();
            var imageName = document.getElementById("imageName").value;
            var imageUrl = document.getElementById("imageUrl").value;
            var wikiUrl = document.getElementById("wikiUrl").value;
            var bakedDiv = createImageDiv(imageName,imageUrl,wikiUrl);
            var bakedPage = appendDivOnPage(bakedDiv);
            render();
        }
        function createImageDiv(imageName,imageUrl,wikiUrl){
            var div = document.createElement("div");
            var a = document.createElement("a");
            var img = document.createElement("img");
            var h2 = document.createElement("h2");
            div.id="image"+amountOfImages;
            div.className="card"
            a.href=wikiUrl;
            h2.innerText=imageName;
            img.src=imageUrl;
            img.width="300";
            img.height="200";
            a.appendChild(h2);
            a.appendChild(img);
            div.appendChild(a);
            return div;
        }
        function appendDivOnPage(bakedDiv){
            if(amountOfImages%12===0){
                createNewPage();
                amountOfPages++;
            }
            amountOfImages++;
            pagesArray[amountOfPages-1].appendChild(bakedDiv);
            return pagesArray[amountOfPages-1];
        }
        function createNewPage(){
            var page = document.createElement("div");
            pagesArray.push(page);
            currentPage++;
            addPageToNavBar();
        }
        function render(){
            document.getElementById("containPage").innerHTML=pagesArray[currentPage-1].innerHTML;
        }
        function addPageToNavBar(){
            tr=document.getElementById("pagesNavigator");
            td=document.createElement("td");
            btn=document.createElement("button");
            btn.setAttribute("onclick","changePage(this.innerText)");
            btn.innerText=amountOfPages+1;
            console.log(btn.innerText);
            td.appendChild(btn);
            tr.appendChild(td);
            //<th><button onclick="changePage(this.value)""></button></th>
        }
        function changePage(toPage){
            console.log(toPage);
            currentPage=toPage;
            render();
        }
    </script>
    <style>
        .card{
            display: inline-block;
            border-style: solid;
            border-width: 2px;
            border-color: red;
            padding: 4px;
            margin: 8px;
        }
        #pagesNavigatorContainer{
            position: fixed;
            bottom: 10px;
            right: 50vw;
        }
    </style>
</body>
</html>